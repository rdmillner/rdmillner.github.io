<!DOCTYPE html>
<html>
<head>
    <title>Beer Map 2.0</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
   <script src="data/json/beermap.geojson"></script>
   <script src="data/json/liquormap.geojson"></script>
   <script src="data/json/winemap.geojson"></script>
      <style>
        body {
            padding: 0;
            margin: 0;
        }
        html, body, #map {
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script type="text/javascript">

        var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: 'Â© OpenStreetMap'
        });

    function onEachFeature(feature, layer) {
        if (feature.properties && feature.properties.name) {
            layer.bindPopup(feature.properties.name);
        }
    }

    var breweries = new L.LayerGroup();
        L.geoJson(beermap, {
            onEachFeature: onEachFeature,
        }).addTo(breweries);

        var distilleries = new L.LayerGroup();
        L.geoJson(liquormap, {
        }).addTo(distilleries);

        var wineries = new L.LayerGroup();
        L.geoJson(winemap, {
        }).addTo(wineries);

        const map = L.map('map', {
		center: [42.587880, -72.600260],
		zoom: 10,
		layers: [osm]
	});

        const baseLayers = {
		'OpenStreetMap': osm,
	};

    var overlayMaps = {
    "Breweries": breweries,
    "Distilleries": distilleries,
    "Wineries": wineries
};

var layerControl = L.control.layers(baseLayers, overlayMaps).addTo(map);

    </script>
</body>
</html>